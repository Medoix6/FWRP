(()=>{var e={};e.id=698,e.ids=[698],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55511:e=>{"use strict";e.exports=require("crypto")},14985:e=>{"use strict";e.exports=require("dns")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},73496:e=>{"use strict";e.exports=require("http2")},91645:e=>{"use strict";e.exports=require("net")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},19771:e=>{"use strict";e.exports=require("process")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},79604:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>o});var r=t(70260),a=t(28203),i=t(25155),l=t.n(i),n=t(67292),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let o=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,17949)),"D:\\FWRP\\src\\app\\admin\\page.tsx"]}]},{loading:[()=>Promise.resolve().then(t.bind(t,67486)),"D:\\FWRP\\src\\app\\admin\\loading.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,71354)),"D:\\FWRP\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,50042)),"D:\\FWRP\\src\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\FWRP\\src\\app\\admin\\page.tsx"],x={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},82874:(e,s,t)=>{Promise.resolve().then(t.bind(t,17949))},17154:(e,s,t)=>{Promise.resolve().then(t.bind(t,97025))},96487:()=>{},78335:()=>{},97025:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var r=t(45512),a=t(58009),i=t(28531),l=t.n(i),n=t(65848),d=t(39400),o=t(48320),c=t(42092),x=t(77042),m=t(28790),u=t(35120),h=t(94825);let p=(0,h.A)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),f=(0,h.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);t(94555),t(17656);var g=t(77722),j=t(17184),v=t(19);function y(){let[e,s]=(0,a.useState)(!1),[t,i]=(0,a.useState)([]),[h,y]=(0,a.useState)(!0),[b,N]=(0,a.useState)(null),[w,k]=(0,a.useState)(!1),[P,C]=(0,a.useState)(null),[q,A]=(0,a.useState)(null),[S,z]=(0,a.useState)(!1),[D,E]=(0,a.useState)(null),[_,F]=(0,a.useState)(null),[R,$]=(0,a.useState)(""),M=e=>{N(t.find(s=>s.id===e)||null),C(null),F(null)},U=e=>{if(!b)return;let{name:s,value:t}=e.target;N({...b,[s]:t})},W=async()=>{if(b){k(!0),C(null),F(null);try{let e=await fetch("/api/users",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:b.id,name:b.name,email:b.email})}),s=await e.json();if(!e.ok)throw Error(s.error||"Failed to update user");i(e=>e.map(e=>e.id===b.id?{...e,name:b.name,email:b.email}:e)),F("User updated successfully."),N(null)}catch(e){e instanceof Error?C(e.message):C("Unknown error")}finally{k(!1)}}},T=e=>{A(t.find(s=>s.id===e)||null),E(null),F(null)},G=async()=>{if(q){z(!0),E(null),F(null);try{let e=(0,v.xI)().currentUser;if(!e)throw Error("Not signed in");let s=await e.getIdToken(),t=await fetch("/api/users",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({id:q.id})}),r=await t.json();if(!t.ok)throw Error(r.error||"Failed to delete user");i(e=>e.filter(e=>e.id!==q.id)),F("User deleted successfully."),A(null)}catch(e){e instanceof Error?E(e.message):E("Unknown error")}finally{z(!1)}}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100 flex",children:[(0,r.jsx)("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:(0,r.jsx)(d.$,{variant:"outline",size:"icon",onClick:()=>s(!e),className:"bg-white",children:(0,r.jsx)(o.A,{className:"h-5 w-5"})})}),(0,r.jsx)("div",{className:`
        fixed inset-y-0 left-0 z-40 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out
        ${e?"translate-x-0":"-translate-x-full"} lg:translate-x-0
      `,children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsx)("div",{className:"p-6 border-b",children:(0,r.jsx)("h2",{className:"text-2xl font-bold text-green-600",children:"FWRP"})}),(0,r.jsxs)("div",{className:"flex-1 py-6 px-4 space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,r.jsxs)(n.eu,{className:"h-20 w-20",children:[(0,r.jsx)(n.BK,{src:R||"/placeholder.svg?height=80&width=80",alt:"Admin"}),(0,r.jsx)(n.q5,{children:(0,r.jsx)(c.A,{className:"h-10 w-10"})})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h3",{className:"font-medium",children:"Admin User"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"admin@fwrp.com"})]})]}),(0,r.jsxs)("nav",{className:"mt-8 space-y-2",children:[(0,r.jsxs)(l(),{href:"/admin",className:"flex items-center p-3 bg-gray-100 text-green-600 rounded-md",children:[(0,r.jsx)(x.A,{className:"h-5 w-5 mr-3"}),"Admin Dashboard"]}),(0,r.jsxs)(l(),{href:"/edit-profile",className:"flex items-center p-3 text-gray-700 rounded-md hover:bg-gray-100",children:[(0,r.jsx)(m.A,{className:"h-5 w-5 mr-3"}),"Edit Profile"]})]})]}),(0,r.jsx)("div",{className:"p-4 border-t",children:(0,r.jsxs)(d.$,{variant:"outline",className:"w-full justify-start",onClick:async()=>{try{let e=(0,v.xI)();await e.signOut(),window.location.href="/login"}catch{alert("Failed to sign out. Please try again.")}},children:[(0,r.jsx)(u.A,{className:"h-5 w-5 mr-3"}),"Sign out"]})})]})}),(0,r.jsxs)("div",{className:"flex-1 lg:ml-64",children:[(0,r.jsx)("header",{className:"bg-white shadow",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"})})}),(0,r.jsx)("main",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:h?(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsxs)("svg",{className:"animate-spin h-8 w-8 text-green-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}):(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"p-6 border-b",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold",children:"User Management"}),(0,r.jsx)("p",{className:"text-gray-500 mt-1",children:"View and manage all users in the system"})]}),_&&(0,r.jsx)("div",{className:"p-4 text-green-700 bg-green-100 border border-green-300 mb-2 rounded",children:_}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,r.jsxs)(n.eu,{children:[(0,r.jsx)(n.BK,{src:e.avatarSrc||"/placeholder.svg",alt:e.name}),(0,r.jsx)(n.q5,{children:e.name[0].toUpperCase()})]})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]})]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,r.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,r.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>M(e.id),children:(0,r.jsx)(p,{className:"h-4 w-4"})}),(0,r.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>T(e.id),children:(0,r.jsx)(f,{className:"h-4 w-4 text-red-500"})})]})})]},e.id))})]})}),(0,r.jsx)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:(0,r.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,r.jsx)("div",{children:(0,r.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing ",(0,r.jsx)("span",{className:"font-medium",children:"1"})," to"," ",(0,r.jsx)("span",{className:"font-medium",children:t.length})," of"," ",(0,r.jsx)("span",{className:"font-medium",children:t.length})," results"]})}),(0,r.jsx)("div",{children:(0,r.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,r.jsx)(d.$,{variant:"outline",className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:"Previous"}),(0,r.jsx)(d.$,{variant:"outline",className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",children:"1"}),(0,r.jsx)(d.$,{variant:"outline",className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:"Next"})]})})]})})]})})]}),b&&(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Edit User"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(j.J,{htmlFor:"edit-name",children:"Name"}),(0,r.jsx)(g.p,{id:"edit-name",name:"name",value:b.name||"",onChange:U})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(j.J,{htmlFor:"edit-email",children:"Email"}),(0,r.jsx)(g.p,{id:"edit-email",name:"email",value:b.email||"",onChange:U})]}),P&&(0,r.jsx)("div",{className:"text-red-600",children:P})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2 mt-6",children:[(0,r.jsx)(d.$,{variant:"outline",onClick:()=>N(null),disabled:w,children:"Cancel"}),(0,r.jsx)(d.$,{onClick:W,disabled:w,children:w?"Saving...":"Save"})]})]})}),q&&(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Delete User"}),(0,r.jsxs)("p",{children:["Are you sure you want to delete"," ",(0,r.jsx)("span",{className:"font-bold",children:q.name}),"? This action cannot be undone."]}),D&&(0,r.jsx)("div",{className:"text-red-600 mt-2",children:D}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2 mt-6",children:[(0,r.jsx)(d.$,{variant:"outline",onClick:()=>A(null),disabled:S,children:"Cancel"}),(0,r.jsx)(d.$,{variant:"destructive",onClick:G,disabled:S,children:S?"Deleting...":"Delete"})]})]})}),e&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>s(!1)})]})}},77722:(e,s,t)=>{"use strict";t.d(s,{p:()=>l});var r=t(45512),a=t(58009),i=t(44195);let l=a.forwardRef(({className:e,type:s,...t},a)=>(0,r.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...t}));l.displayName="Input"},17184:(e,s,t)=>{"use strict";t.d(s,{J:()=>c});var r=t(45512),a=t(58009),i=t(30830),l=a.forwardRef((e,s)=>(0,r.jsx)(i.sG.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));l.displayName="Label";var n=t(21643),d=t(44195);let o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)(l,{ref:t,className:(0,d.cn)(o(),e),...s}));c.displayName=l.displayName},67486:(e,s,t)=>{"use strict";function r(){return null}t.r(s),t.d(s,{default:()=>r})},17949:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\FWRP\\\\src\\\\app\\\\admin\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\FWRP\\src\\app\\admin\\page.tsx","default")},77042:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(94825).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[638,124,676,196],()=>t(79604));module.exports=r})();