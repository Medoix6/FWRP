(()=>{var e={};e.id=607,e.ids=[607],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55511:e=>{"use strict";e.exports=require("crypto")},14985:e=>{"use strict";e.exports=require("dns")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},73496:e=>{"use strict";e.exports=require("http2")},91645:e=>{"use strict";e.exports=require("net")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},19771:e=>{"use strict";e.exports=require("process")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},83808:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=s(70260),a=s(28203),i=s(25155),o=s.n(i),l=s(67292),n={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);s.d(t,n);let d=["",{children:["donate-food",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,37836)),"D:\\FWRP\\src\\app\\donate-food\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,71354)),"D:\\FWRP\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,50042)),"D:\\FWRP\\src\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\FWRP\\src\\app\\donate-food\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/donate-food/page",pathname:"/donate-food",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},17821:(e,t,s)=>{Promise.resolve().then(s.bind(s,37836))},87965:(e,t,s)=>{Promise.resolve().then(s.bind(s,41600))},79334:(e,t,s)=>{"use strict";var r=s(58686);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},41600:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var r=s(45512),a=s(58009),i=s(79334),o=s(39400),l=s(77722),n=s(17184),d=s(75002),c=s(65848),u=s(48320),p=s(42092),x=s(28790),m=s(85763),f=s(19725),h=s(35120),g=s(71894),b=s(28531),v=s.n(b),j=s(94555),y=s(19);function w(){let e=(0,i.useRouter)(),[t,s]=(0,a.useState)(!1),[b,w]=(0,a.useState)({title:"",description:"",location:"",expiryDate:"",pickupInstructions:""}),[N,k]=(0,a.useState)(null),[P,q]=(0,a.useState)(!1),[D,F]=(0,a.useState)(null),[A,R]=(0,a.useState)({fullName:"",email:"",avatar:""}),I=e=>{let{name:t,value:s}=e.target;w(e=>({...e,[t]:s}))},C=async t=>{t.preventDefault(),q(!0);try{let t=(0,y.xI)().currentUser;if(!t){alert("You must be logged in to donate food."),q(!1);return}let s=new FormData;s.append("foodName",b.title),s.append("description",b.description),s.append("location",b.location),s.append("expiryDate",b.expiryDate),s.append("pickupInstructions",b.pickupInstructions),s.append("userId",t.uid);let r=document.getElementById("foodImage");r&&r.files&&r.files[0]&&s.append("image",r.files[0]);let a=await fetch("/api/donated-food",{method:"POST",body:s});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to donate food")}F("Food donation submitted successfully!"),setTimeout(()=>{F(null),e.push("/dashboard")},1800)}catch(e){e instanceof Error?alert(e.message||"Error submitting form"):alert("Error submitting form")}finally{q(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100 flex",children:[D&&(0,r.jsx)("div",{className:"fixed top-6 left-1/2 transform -translate-x-1/2 z-50 bg-green-500 text-white px-6 py-3 rounded shadow-lg text-lg font-semibold animate-fade-in",children:D}),(0,r.jsx)("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:(0,r.jsx)(o.$,{variant:"outline",size:"icon",onClick:()=>s(!t),className:"bg-white",children:(0,r.jsx)(u.A,{className:"h-5 w-5"})})}),(0,r.jsx)("div",{className:`
        fixed inset-y-0 left-0 z-40 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out
        ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0
      `,children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsx)("div",{className:"p-6 border-b",children:(0,r.jsx)("h2",{className:"text-2xl font-bold text-green-600",children:"FWRP"})}),(0,r.jsxs)("div",{className:"flex-1 py-6 px-4 space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,r.jsxs)(c.eu,{className:"h-20 w-20",children:[(0,r.jsx)(c.BK,{src:A.avatar||"/placeholder.svg?height=80&width=80",alt:"Profile"}),(0,r.jsx)(c.q5,{children:(0,r.jsx)(p.A,{className:"h-10 w-10"})})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h3",{className:"font-medium",children:A.fullName}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:A.email})]})]}),(0,r.jsxs)("nav",{className:"mt-8 space-y-2",children:[(0,r.jsxs)(v(),{href:"/edit-profile",className:"flex items-center p-3 text-gray-700 rounded-md hover:bg-gray-100",children:[(0,r.jsx)(x.A,{className:"h-5 w-5 mr-3"}),"Edit Profile"]}),(0,r.jsxs)(v(),{href:"/dashboard",className:"flex items-center p-3 text-gray-700 rounded-md hover:bg-gray-100",children:[(0,r.jsx)(m.A,{className:"h-5 w-5 mr-3"}),"Dashboard"]}),(0,r.jsxs)(v(),{href:"/donate-food",className:"flex items-center p-3 bg-gray-100 text-green-600 rounded-md",children:[(0,r.jsx)(f.A,{className:"h-5 w-5 mr-3"}),"Donate Food"]})]})]}),(0,r.jsx)("div",{className:"p-4 border-t",children:(0,r.jsxs)(o.$,{variant:"outline",className:"w-full justify-start",onClick:async()=>{try{await j.j.signOut(),window.location.href="/login"}catch{alert("Failed to sign out. Please try again.")}},children:[(0,r.jsx)(h.A,{className:"h-5 w-5 mr-3"}),"Sign out"]})})]})}),(0,r.jsxs)("div",{className:"flex-1 lg:ml-64",children:[(0,r.jsx)("header",{className:"bg-white shadow",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center",children:[(0,r.jsx)(v(),{href:"/dashboard",className:"mr-4",children:(0,r.jsxs)(o.$,{variant:"ghost",size:"sm",children:[(0,r.jsx)(g.A,{className:"h-5 w-5 mr-2"}),"Back to Dashboard"]})}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Donate Food"})]})}),(0,r.jsx)("main",{className:"max-w-3xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Share Your Excess Food"}),(0,r.jsxs)("form",{onSubmit:C,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(n.J,{htmlFor:"title",children:"Food Title"}),(0,r.jsx)(l.p,{id:"title",name:"title",value:b.title,onChange:I,placeholder:"E.g., Fresh Vegetables, Homemade Bread",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(n.J,{htmlFor:"description",children:"Description"}),(0,r.jsx)(d.T,{id:"description",name:"description",value:b.description,onChange:I,placeholder:"Describe the food, quantity, and condition",rows:4,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(n.J,{htmlFor:"location",children:"Pickup Location"}),(0,r.jsx)(l.p,{id:"location",name:"location",value:b.location,onChange:I,placeholder:"Address or general area for pickup",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(n.J,{htmlFor:"expiryDate",children:"Expiry Date"}),(0,r.jsx)(l.p,{id:"expiryDate",name:"expiryDate",type:"date",value:b.expiryDate,onChange:I,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(n.J,{htmlFor:"pickupInstructions",children:"Pickup Instructions"}),(0,r.jsx)(d.T,{id:"pickupInstructions",name:"pickupInstructions",value:b.pickupInstructions,onChange:I,placeholder:"Any special instructions for pickup",rows:2})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(n.J,{htmlFor:"foodImage",children:"Food Image"}),(0,r.jsx)("div",{className:"mt-1 flex items-center",children:(0,r.jsxs)("label",{className:"block w-full",children:[(0,r.jsx)("span",{className:"sr-only",children:"Choose food image"}),(0,r.jsx)(l.p,{id:"foodImage",name:"foodImage",type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(t){let e=new FileReader;e.onloadend=()=>{k(e.result)},e.readAsDataURL(t)}},className:"block w-full text-sm text-gray-500   file:mr-4 file:py-2 file:px-4   file:rounded-md file:border-0   file:text-sm file:font-semibold   file:bg-green-50 file:text-green-700   hover:file:bg-green-100",required:!0})]})}),N&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Image Preview:"}),(0,r.jsx)("div",{className:"relative w-full h-64 bg-gray-100 rounded-md overflow-hidden",children:(0,r.jsx)("img",{src:N||"/placeholder.svg",alt:"Food preview",className:"w-full h-full object-cover"})})]})]}),(0,r.jsx)("div",{className:"pt-4",children:(0,r.jsx)(o.$,{type:"submit",className:"w-full",disabled:P,children:P?"Submitting...":"Donate Food"})})]})]})})]}),t&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>s(!1)})]})}s(17656)},77722:(e,t,s)=>{"use strict";s.d(t,{p:()=>o});var r=s(45512),a=s(58009),i=s(44195);let o=a.forwardRef(({className:e,type:t,...s},a)=>(0,r.jsx)("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...s}));o.displayName="Input"},17184:(e,t,s)=>{"use strict";s.d(t,{J:()=>c});var r=s(45512),a=s(58009),i=s(30830),o=a.forwardRef((e,t)=>(0,r.jsx)(i.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));o.displayName="Label";var l=s(21643),n=s(44195);let d=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(o,{ref:s,className:(0,n.cn)(d(),e),...t}));c.displayName=o.displayName},75002:(e,t,s)=>{"use strict";s.d(t,{T:()=>o});var r=s(45512),a=s(58009),i=s(44195);let o=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...t}));o.displayName="Textarea"},37836:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\FWRP\\\\src\\\\app\\\\donate-food\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\FWRP\\src\\app\\donate-food\\page.tsx","default")},71894:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(94825).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},19725:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(94825).A)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},85763:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(94825).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,124,676,196],()=>s(83808));module.exports=r})();